---
title: 如何写出好代码
date: 2017-11-29 16:02:38
categories: 规范
tags:
- 整洁
- php
---
上次设置的钉钉机器人完成，功能虽然实现，但总觉得代码写得不够好，阅读过老师写出的代码，才感受到什么才是优秀的代码。

好代码就像是一件艺术品，能让创造它的人骄傲，能让阅读它的人陶醉。

<!-- more -->

# 规范

## 静态方法

感触最深的就是静态方法，之前用静态方法用的太少了，每个方法都是实例方法，每次用的时候都是`new`对象，然后再去调用。

改成静态方法之后，发现之前的某些实例方法太笨重了，多写了无数行`new`对象的无用代码。

静态方法和实例方法其实在性能上没有区别，加载时机，和内存占用都一样，调用速度也没有区别。

现在是面向对象的开发思想，类中的示例方法，通过构造对象来调用。而静态方法属于类，更像是我们从前面向过程编程中的方法，与对象无关，拿来就能用。

如果某些方法与实例化对象有逻辑上的相关性，我们就需要使用实例方法，需要调用当前对象的某些属性。

而如果方法与实例化对象不相关，使用静态方法就比较好了。直接使用类调用，一行代码，不需要像实例化方法那样需要去重复的`new`。

另外，利用`php`开发后台，完成一次`http`请求，执行完成脚本后，就会释放内存。

## 注释

最开始觉得代码写好是不需要注释的，直接看名称就能理解，但是对于刚刚改完计量项目的我们来说，有注释是多么的好。

如果不是那行按钮`C`层控制器的注释正好被我搜到，估计又要花上点时间去找那个按钮对应的代码了。

但是，《代码整洁之道》毕竟是美国人写的，虽然书中写的东西我们很同意，但是在实际的项目中却并不适用。

我们的母语是汉语，我们更喜欢中文，即便变量名再让人易懂也不行，在大型的项目中，需要准确的注释让人快速定位相关联代码的位置。

# 美感

一流程序员的代码，能让别人看懂。

二流程序员的代码，能让自己看懂。

三流程序员的代码，能让电脑看懂。

作为一名软件工程师，写过前端，自己写的代码真真正正变成看到的效果，就像在创造一件艺术品。

少用`1`、`2`、`3`这种无法让人理解的数字，别人根本不知道你这个方法返回来的`1`到底是什么！

少写`if`，能让没有编程基础的人看懂代码，才是优秀的代码。